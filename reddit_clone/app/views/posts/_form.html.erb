<% form_action = edit ? post_url(post) : posts_url %>
<% method_value = edit ? "PATCH" : "POST" %>

<form action="<%= form_action %>" method="POST">
  <input type="hidden" name="_method" value="<%= method_value %>">
  <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
  <label>
    Title:
    <input name="post[title]" value="<%= post.title %>">
  </label>
  <label>
    URL:
    <input name="post[url]" value="<%= post.url %>">
  </label>
  <label>
    Content:
    <textarea name="post[content]"><%= post.content %></textarea>
  </label>

  <% Sub.all.each do |sub| %>
    <label>
        Sub:
      <input type="checkbox" name="post[sub_ids][]" value="<%= sub.id %>">
      <%= sub.name %>
    </label>
  <% end %>

  <input type="Submit" value="Submit">
</form>